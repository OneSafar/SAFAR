#!/bin/sh

# Block accidental commits of real environment files.
# Allow deletions so removing tracked .env can be committed safely.
if git diff --cached --name-only --diff-filter=ACMR | grep -E '^\.env($|\..+)' | grep -v '^\.env\.example$' >/dev/null; then
  echo "Error: .env files are blocked from commits."
  echo "Commit .env.example instead."
  exit 1
fi

exit 0
